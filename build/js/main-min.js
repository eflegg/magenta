document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("a").forEach((e=>{e.classList.add("fade")}));const e=document.querySelectorAll(".fade-me");window.addEventListener("scroll",(function(){e.forEach((e=>{((e,t=!1)=>{const{top:n,left:o,bottom:a,right:r}=e.getBoundingClientRect(),{innerHeight:d,innerWidth:i}=window;return t?(n>0&&n<d||a>0&&a<d)&&(o>0&&o<i||r>0&&r<i):n>=0&&o>=0&&a<=d&&r<=i})(e)?(e.classList.add("faded-in"),console.log("faded in")):console.log("not visible")}))}));const t=document.querySelectorAll(".accordion-item"),n=()=>{t.forEach((e=>{e.setAttribute("aria-expanded","false"),console.log("remove fired")}))};function o(){"false"===this.ariaExpanded?(n(),this.setAttribute("aria-expanded","true")):(n(),this.setAttribute("aria-expanded","false"))}t.forEach((e=>e.addEventListener("click",o)));const a=document.querySelectorAll("a.fade"),r=document.querySelector(".main-content");for(let e=0;e<a.length;e++)a[e].addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href");r.classList.add("fade-out"),console.log("added fade-out"),setTimeout((()=>{window.location.href=t,console.log("changes pages")}),1e3)}));document.querySelectorAll("#menu-main-menu > .menu-item-has-children>.sub-menu").forEach((e=>{e.classList.add("top-level-subnav");const t=document.createElement("button");t.classList.add("sub-nav-toggle"),e.parentNode.insertBefore(t,e)}));document.querySelectorAll(".top-level-subnav>.menu-item-has-children>.sub-menu").forEach((e=>{e.classList.add("second-level-subnav")}));const d=document.querySelectorAll(".main>.menu-item-has-children");let i=null;const s=e=>{const t=e.querySelector("ul"),n=e.querySelector("button");i=e,t.setAttribute("aria-hidden","false"),n.setAttribute("aria-expanded","true"),e.dataset.expanded="true"},l=e=>{const t=e.querySelector("ul"),n=e.querySelector("button");i=null,t.setAttribute("aria-hidden","true"),n.setAttribute("aria-expanded","false"),e.dataset.expanded="false"};d.forEach((e=>{const t=e.querySelector("button");t.addEventListener("click",(()=>{"false"===t.ariaExpanded?s(e):l(e)})),e.addEventListener("mouseenter",(()=>{s(e)})),e.addEventListener("mouseleave",(()=>{l(e)}))})),document.addEventListener("keydown",(e=>{if("Tab"===e.key){if(!i)return;const t=i.querySelector(".second-level-subnav"),n=i.querySelector(":focus"),o=i.querySelector("a"),a=t.lastElementChild.querySelector("a");if(!e.shiftKey&&n===a)return void l(i);if(e.shiftKey&&n===o)return void l(i)}"Escape"==e.key&&l(i)}));let c=window.innerWidth;window.addEventListener("resize",(function(){c<1e3?(f.classList.add("mobile-nav"),f.classList.remove("desktop-nav")):c>=1e3&&(f.classList.add("desktop-nav"),f.classList.remove("mobile-nav"))}));const u=document.querySelector(".mobile-nav"),m=document.querySelector(".js-menu-button"),f=document.querySelector(".js-navigation"),v=document.querySelector("header"),y=()=>{f.setAttribute("aria-hidden",!0),m.setAttribute("aria-expanded",!1),m.setAttribute("aria-label","Menu"),u?u.style.overflowY="scroll":document.body.style.overflowY="initial"};const b=document.querySelector("header");m.addEventListener("click",(()=>{"false"===m.getAttribute("aria-expanded")?(f.setAttribute("aria-hidden",!1),m.setAttribute("aria-expanded",!0),m.setAttribute("aria-label","Close menu"),document.body.style.overflow="hidden",b.style.position="relative",function(e,t,n){const o=e.querySelectorAll("button:not(#header-search, #searchsubmit2),  a:not(.skiplink, .btn--fat, .home-logo)"),a=o[0],r=o[o.length-1];a.focus();const d=()=>{n(),e.removeEventListener("keydown",i),t.removeEventListener("click",d),t.focus()};t.addEventListener("click",d);const i=e=>{const t="Escape"===e.key,n="Tab"===e.key||9===e.keyCode;t&&d(),n&&(e.shiftKey?document.activeElement===a&&(e.preventDefault(),r.focus()):document.activeElement===r&&(e.preventDefault(),a.focus()))};e.addEventListener("keydown",i)}(v,m,y),u?u.style.overflow="hidden":(document.body.style.overflow="hidden",document.body.style.height="100vh")):(f.setAttribute("aria-hidden",!0),m.setAttribute("aria-expanded",!1),m.setAttribute("aria-label","Open menu"),document.body.style.overflowY="initial",document.body.style.height="100%",b.style.position="relative")}))}));
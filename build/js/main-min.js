document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("a").forEach((e=>{e.classList.add("fade")}));let e=document.querySelector(".main-header"),t=0;const n=_.throttle((()=>{if((()=>{let e=!1,n=window.scrollY;return n>t&&(e=!0),t=n,e})()){const t=e.offsetHeight;console.log(t),e.classList.add("scroll-down"),e.style.top="-111px",e.classList.remove("scroll-up")}else e.classList.add("scroll-up"),e.classList.remove("scroll-down"),e.style.top="0"}),100);window.addEventListener("scroll",n);const o=document.querySelectorAll(".fade-me");window.addEventListener("scroll",(function(){o.forEach((e=>{((e,t=!1)=>{const{top:n,left:o,bottom:s,right:r}=e.getBoundingClientRect(),{innerHeight:a,innerWidth:d}=window;return t?(n>0&&n<a||s>0&&s<a)&&(o>0&&o<d||r>0&&r<d):n>=0&&o>=0&&s<=a&&r<=d})(e)&&e.classList.add("faded-in")}))}));const s=document.querySelectorAll(".accordion-item"),r=()=>{s.forEach((e=>{e.setAttribute("aria-expanded","false"),console.log("remove fired")}))};function a(){"false"===this.ariaExpanded?(r(),this.setAttribute("aria-expanded","true")):(r(),this.setAttribute("aria-expanded","false"))}s.forEach((e=>e.addEventListener("click",a)));const d=document.querySelectorAll("a.fade"),l=document.querySelector(".main-content");for(let e=0;e<d.length;e++)d[e].addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href");l.classList.add("fade-out"),console.log("added fade-out"),setTimeout((()=>{window.location.href=t,console.log("changes pages")}),1e3)}));document.querySelectorAll("#menu-main-menu > .menu-item-has-children>.sub-menu").forEach((e=>{e.classList.add("top-level-subnav");const t=document.createElement("button");t.classList.add("sub-nav-toggle"),e.parentNode.insertBefore(t,e)}));document.querySelectorAll(".top-level-subnav>.menu-item-has-children>.sub-menu").forEach((e=>{e.classList.add("second-level-subnav")}));const i=document.querySelectorAll(".main>.menu-item-has-children");let c=null;const u=e=>{const t=e.querySelector("ul"),n=e.querySelector("button");c=e,t.setAttribute("aria-hidden","false"),n.setAttribute("aria-expanded","true"),e.dataset.expanded="true"},m=e=>{const t=e.querySelector("ul"),n=e.querySelector("button");c=null,t.setAttribute("aria-hidden","true"),n.setAttribute("aria-expanded","false"),e.dataset.expanded="false"};i.forEach((e=>{const t=e.querySelector("button");t.addEventListener("click",(()=>{"false"===t.ariaExpanded?u(e):m(e)})),e.addEventListener("mouseenter",(()=>{u(e)})),e.addEventListener("mouseleave",(()=>{m(e)}))})),document.addEventListener("keydown",(e=>{if("Tab"===e.key){if(!c)return;const t=c.querySelector(".second-level-subnav"),n=c.querySelector(":focus"),o=c.querySelector("a"),s=t.lastElementChild.querySelector("a");if(!e.shiftKey&&n===s)return void m(c);if(e.shiftKey&&n===o)return void m(c)}"Escape"==e.key&&m(c)}));let f=window.innerWidth;window.addEventListener("resize",(function(){f<1e3?(h.classList.add("mobile-nav"),h.classList.remove("desktop-nav")):f>=1e3&&(h.classList.add("desktop-nav"),h.classList.remove("mobile-nav"))}));const v=document.querySelector(".mobile-nav"),y=document.querySelector(".js-menu-button"),h=document.querySelector(".js-navigation"),b=document.querySelector("header"),p=()=>{h.setAttribute("aria-hidden",!0),y.setAttribute("aria-expanded",!1),y.setAttribute("aria-label","Menu"),v?v.style.overflowY="scroll":document.body.style.overflowY="initial"};const E=document.querySelector("header");y.addEventListener("click",(()=>{"false"===y.getAttribute("aria-expanded")?(h.setAttribute("aria-hidden",!1),y.setAttribute("aria-expanded",!0),y.setAttribute("aria-label","Close menu"),document.body.style.overflow="hidden",E.style.position="relative",function(e,t,n){const o=e.querySelectorAll("button:not(#header-search, #searchsubmit2),  a:not(.skiplink, .btn--fat, .home-logo)"),s=o[0],r=o[o.length-1];s.focus();const a=()=>{n(),e.removeEventListener("keydown",d),t.removeEventListener("click",a),t.focus()};t.addEventListener("click",a);const d=e=>{const t="Escape"===e.key,n="Tab"===e.key||9===e.keyCode;t&&a(),n&&(e.shiftKey?document.activeElement===s&&(e.preventDefault(),r.focus()):document.activeElement===r&&(e.preventDefault(),s.focus()))};e.addEventListener("keydown",d)}(b,y,p),v?v.style.overflow="hidden":(document.body.style.overflow="hidden",document.body.style.height="100vh")):(h.setAttribute("aria-hidden",!0),y.setAttribute("aria-expanded",!1),y.setAttribute("aria-label","Open menu"),document.body.style.overflowY="initial",document.body.style.height="100%",E.style.position="relative")}))}));
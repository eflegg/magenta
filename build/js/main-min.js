document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("a").forEach((e=>{e.classList.add("fade"),console.log("fade added")}));const e=document.querySelectorAll(".accordion-item"),t=()=>{e.forEach((e=>{e.setAttribute("aria-expanded","false"),console.log("remove fired")}))};function n(){"false"===this.ariaExpanded?(t(),this.setAttribute("aria-expanded","true")):(t(),this.setAttribute("aria-expanded","false"))}e.forEach((e=>e.addEventListener("click",n)));const o=document.querySelectorAll("a.fade"),a=document.querySelector(".main-content");for(let e=0;e<o.length;e++)o[e].addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href");a.classList.add("fade-out"),console.log("added fade-out"),setTimeout((()=>{window.location.href=t,console.log("changes pages")}),1e3)}));document.querySelectorAll("#menu-main-menu > .menu-item-has-children>.sub-menu").forEach((e=>{e.classList.add("top-level-subnav");const t=document.createElement("button");t.classList.add("sub-nav-toggle"),e.parentNode.insertBefore(t,e)}));document.querySelectorAll(".top-level-subnav>.menu-item-has-children>.sub-menu").forEach((e=>{e.classList.add("second-level-subnav")}));const r=document.querySelectorAll(".main>.menu-item-has-children");let d=null;const s=e=>{const t=e.querySelector("ul"),n=e.querySelector("button");d=e,t.setAttribute("aria-hidden","false"),n.setAttribute("aria-expanded","true"),e.dataset.expanded="true"},i=e=>{const t=e.querySelector("ul"),n=e.querySelector("button");d=null,t.setAttribute("aria-hidden","true"),n.setAttribute("aria-expanded","false"),e.dataset.expanded="false"};r.forEach((e=>{const t=e.querySelector("button");t.addEventListener("click",(()=>{"false"===t.ariaExpanded?s(e):i(e)})),e.addEventListener("mouseenter",(()=>{s(e)})),e.addEventListener("mouseleave",(()=>{i(e)}))})),document.addEventListener("keydown",(e=>{if("Tab"===e.key){if(!d)return;const t=d.querySelector(".second-level-subnav"),n=d.querySelector(":focus"),o=d.querySelector("a"),a=t.lastElementChild.querySelector("a");if(!e.shiftKey&&n===a)return void i(d);if(e.shiftKey&&n===o)return void i(d)}"Escape"==e.key&&i(d)}));let l=window.innerWidth;window.addEventListener("resize",(function(){l<1e3?(m.classList.add("mobile-nav"),m.classList.remove("desktop-nav")):l>=1e3&&(m.classList.add("desktop-nav"),m.classList.remove("mobile-nav"))}));const c=document.querySelector(".mobile-nav"),u=document.querySelector(".js-menu-button"),m=document.querySelector(".js-navigation"),f=document.querySelector("header"),v=()=>{m.setAttribute("aria-hidden",!0),u.setAttribute("aria-expanded",!1),u.setAttribute("aria-label","Menu"),c?c.style.overflowY="scroll":document.body.style.overflowY="initial"};const y=document.querySelector("header");u.addEventListener("click",(()=>{"false"===u.getAttribute("aria-expanded")?(m.setAttribute("aria-hidden",!1),u.setAttribute("aria-expanded",!0),u.setAttribute("aria-label","Close menu"),document.body.style.overflow="hidden",y.style.position="relative",function(e,t,n){const o=e.querySelectorAll("button:not(#header-search, #searchsubmit2),  a:not(.skiplink, .btn--fat, .home-logo)"),a=o[0],r=o[o.length-1];a.focus();const d=()=>{n(),e.removeEventListener("keydown",s),t.removeEventListener("click",d),t.focus()};t.addEventListener("click",d);const s=e=>{const t="Escape"===e.key,n="Tab"===e.key||9===e.keyCode;t&&d(),n&&(e.shiftKey?document.activeElement===a&&(e.preventDefault(),r.focus()):document.activeElement===r&&(e.preventDefault(),a.focus()))};e.addEventListener("keydown",s)}(f,u,v),c?c.style.overflow="hidden":(document.body.style.overflow="hidden",document.body.style.height="100vh")):(m.setAttribute("aria-hidden",!0),u.setAttribute("aria-expanded",!1),u.setAttribute("aria-label","Open menu"),document.body.style.overflowY="initial",document.body.style.height="100%",y.style.position="relative")}))}));
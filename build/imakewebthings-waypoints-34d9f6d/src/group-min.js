!function(){"use strict";function t(t,i){return t.triggerPoint-i.triggerPoint}function i(t,i){return i.triggerPoint-t.triggerPoint}var r={vertical:{},horizontal:{}},n=window.Waypoint;function e(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),r[this.axis][this.name]=this}e.prototype.add=function(t){this.waypoints.push(t)},e.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},e.prototype.flushTriggers=function(){for(var r in this.triggerQueues){var n=this.triggerQueues[r],e="up"===r||"left"===r;n.sort(e?i:t);for(var s=0,o=n.length;s<o;s+=1){var u=n[s];(u.options.continuous||s===n.length-1)&&u.trigger([r])}}this.clearTriggerQueues()},e.prototype.next=function(i){this.waypoints.sort(t);var r=n.Adapter.inArray(i,this.waypoints);return r===this.waypoints.length-1?null:this.waypoints[r+1]},e.prototype.previous=function(i){this.waypoints.sort(t);var r=n.Adapter.inArray(i,this.waypoints);return r?this.waypoints[r-1]:null},e.prototype.queueTrigger=function(t,i){this.triggerQueues[i].push(t)},e.prototype.remove=function(t){var i=n.Adapter.inArray(t,this.waypoints);i>-1&&this.waypoints.splice(i,1)},e.prototype.first=function(){return this.waypoints[0]},e.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},e.findOrCreate=function(t){return r[t.axis][t.name]||new e(t)},n.Group=e}();